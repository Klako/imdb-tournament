extends layout 

block extrahead 
  script
    = "const roomId = '" + room.id + "'"

block content 
  p Room ID:
    = room.id
  if profile.id == room.owner
    button(type="button" class="btn btn-primary mb-3" id="starttournament") Start Tournament
  div(class="row mb-3" id="moviesearch")
    div(class="col-auto dropdown")
      input(type="text" class="form-control" data-toggle="dropdown" placeholder="Search..." v-on:input="searchInput" v-model="searchQuery")
      div(class="dropdown-menu")
        div(class="dropdown-item" v-if="searching") ...
        div(class="dropdown-item" v-else v-for="result in results" v-bind:key="result.id" v-on:click="addMovie(result.id)")
          | {{ result.title }}
  h3 Movies
  div(class="row row-cols-3" id="moviegrid")
    div(class="col border" v-for="user of users" v-bind:key="user.id")
      h3 {{ user.name }}
      ul(class="list-group")
        li(class="list-group-item" v-for="movie of user.movies" v-bind:key="movie.id")
          | {{ movie.title }}
  script(src="/javascripts/lobby.js") 